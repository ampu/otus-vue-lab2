import{d as C,c as r,r as p,o as F,a as o,b as n,e,w as y,v,u as t,f as i,F as P,g as w,h as x,t as b,j as k,k as V,l as L,m as R}from"./index-95eaa7dc.js";import{u as O}from"./author-store-95d5949b.js";import{u as T,O as l}from"./book-store-7dd1083f.js";import{T as D,g as $}from"./TableFooter-384f49e5.js";const j={class:"table table-striped align-middle text-center"},I=e("tr",{class:"title"},[e("th",null,"Name"),e("th",null,"Country")],-1),M={class:"filter"},q=["disabled"],G=["disabled"],z={key:0},H=e("tr",null,[e("td",{colspan:"10"},"Loading...")],-1),J=[H],K={key:1},Q=e("tr",null,[e("td",{colspan:"10"},"Something went wrong... Please come back later!")],-1),W=[Q],X={key:2},Y=e("tr",null,[e("td",{colspan:"10"},"No authors found... Please add one!")],-1),Z=[Y],tt={key:3},et=e("tr",null,[e("td",{colspan:"10"},"No authors matching your filter... Please weaken your requirements!")],-1),ot=[et],st={key:4},nt=C({__name:"AuthorList",setup(E){const{getAuthors:c}=O(),{fetchBooks:g,getFetchStatus:_}=T(),a=r(_),u=p({}),A=r(()=>Object.values(u.value).some(Boolean)),S=r(c),h=r(()=>c(u.value)),B=r(()=>$(h.value,m.value,f.value)),N=r(()=>S.value.length===0),U=r(()=>h.value.length===0),m=p(1),f=p(5);return F(g),(rt,d)=>(o(),n("table",j,[e("thead",null,[I,e("tr",M,[e("th",null,[y(e("input",{class:"form-control","onUpdate:modelValue":d[0]||(d[0]=s=>u.value.name=s),disabled:t(a)!==t(l).SUCCESS},null,8,q),[[v,u.value.name]])]),e("th",null,[y(e("input",{class:"form-control","onUpdate:modelValue":d[1]||(d[1]=s=>u.value.country=s),disabled:t(a)!==t(l).SUCCESS},null,8,G),[[v,u.value.country]])])])]),t(a)===t(l).PENDING?(o(),n("tbody",z,J)):i("",!0),t(a)===t(l).ERROR?(o(),n("tbody",K,W)):i("",!0),t(a)===t(l).SUCCESS&&t(N)?(o(),n("tbody",X,Z)):t(a)===t(l).SUCCESS&&t(U)?(o(),n("tbody",tt,ot)):i("",!0),t(a)===t(l).SUCCESS?(o(),n("tbody",st,[(o(!0),n(P,null,w(t(B),s=>(o(),n("tr",{key:s.id},[e("td",null,b(s.name),1),e("td",null,b(s.country??"-"),1)]))),128))])):i("",!0),t(a)===t(l).SUCCESS?(o(),x(D,{key:5,page:m.value,"onUpdate:page":d[2]||(d[2]=s=>m.value=s),isFiltered:t(A),total:t(S).length,filtered:t(h).length,perPage:f.value},null,8,["page","isFiltered","total","filtered","perPage"])):i("",!0)]))}}),at=e("h1",null,"Authors",-1),lt={class:"mb-3"},_t=C({__name:"AuthorListView",setup(E){return(c,g)=>{const _=L("RouterLink");return o(),n("div",null,[at,e("div",lt,[k(_,{to:"/authors/add",class:"btn btn-primary"},{default:V(()=>[R(" Add Author ")]),_:1})]),k(nt)])}}});export{_t as default};
